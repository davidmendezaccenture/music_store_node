<link rel="stylesheet" href="../css/login-modal.css" />

<div
  class="modal fade"
  id="loginModal"
  tabindex="-1"
  aria-labelledby="loginModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title w-100 text-center" id="loginModalLabel">
          Iniciar sesión
        </h2>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Cerrar"
        ></button>
      </div>
      <div class="modal-body">
        <form id="loginForm" action="/login" method="POST">
          <div class="mb-3">
            <label for="loginEmail" class="form-label"
              >Correo electrónico</label
            >
            <input
              type="email"
              class="form-control input-login"
              id="loginEmail"
              name="email"
              required
              autocomplete="username"
              placeholder="Introduce tu correo electrónico"
              autofocus
            />
          </div>
          <!-- Campo de contraseña con botón de ojo -->
          <div class="mb-3">
            <label for="loginPassword" class="form-label">Contraseña</label>
            <div class="input-group">
              <input
                type="password"
                class="form-control input-login"
                id="loginPassword"
                name="password"
                required
                autocomplete="current-password"
                placeholder="Mínimo 8 caracteres"
              />
              <button
                class="btn txt-resaltado toggle-password"
                type="button"
                tabindex="-1"
                data-target="loginPassword"
              >
                <i
                  class="bi bi-eye-slash icon-black"
                  id="icon-loginPassword"
                ></i>
              </button>
            </div>
          </div>
          <div class="mb-3">
            <span class="me-2">¿No tienes cuenta?</span>
            <a
              href="/pages/register.html"
              class="register-txt login-nav"
              style="color: #f6a61a"
              >Regístrate</a
            >
          </div>
          <div class="mb-3">
            <span class="me-2">¿Has olvidado tu contraseña?</span>
            <a
              href="/pages/recover_password.html"
              class="register-txt login-nav"
              style="color: #f6a61a"
              >Recuperala</a
            >
          </div>
          <button
            type="submit"
            class="btn background-resaltado rounded-pill w-100 btn-tab"
          >
            Entrar
          </button>
        </form>
      </div>
    </div>
  </div>
</div>

<script>
  document.querySelectorAll(".toggle-password").forEach((btn) => {
    btn.addEventListener("click", function () {
      const inputId = this.getAttribute("data-target");
      const input = document.getElementById(inputId);
      const icon = document.getElementById("icon-" + inputId);

      if (input.type === "password") {
        input.type = "text";
        icon.classList.remove("bi-eye-slash");
        icon.classList.add("bi-eye");
      } else {
        input.type = "password";
        icon.classList.remove("bi-eye");
        icon.classList.add("bi-eye-slash");
      }
    });
  });
</script>
